# Bybit Exchange Settings
# Get testnet API keys from: https://testnet.bybit.com/app/user/api-management
BYBIT_API_KEY=your_testnet_api_key_here
BYBIT_API_SECRET=your_testnet_api_secret_here
BYBIT_TESTNET=true
BYBIT_DEMO_TRADING=true
BYBIT_RECV_WINDOW=5000

# Risk Profile (determines all risk parameters)
# Options: conservative, moderate, aggressive
# Conservative: 1% risk/trade, 2 losses → 6h pause, max 8% drawdown
# Moderate: 2% risk/trade, 3 losses → 4h pause, max 15% drawdown
# Aggressive: 4% risk/trade, 5 losses → 2h pause, max 25% drawdown
RISK_PROFILE=conservative

# Risk Guards (runtime protection layer)
RISK_GUARD_ENABLE_CIRCUIT_BREAKER=true
RISK_GUARD_CIRCUIT_BREAKER_CONSECUTIVE_LOSSES=3
RISK_GUARD_CIRCUIT_BREAKER_COOLDOWN_HOURS=4
RISK_GUARD_ENABLE_DAILY_LOSS_LIMIT=true
RISK_GUARD_DAILY_LOSS_LIMIT_PCT=0.03
RISK_GUARD_ENABLE_SYMBOL_COOLDOWN=true
RISK_GUARD_SYMBOL_COOLDOWN_MINUTES=180
RISK_GUARD_SOFT_STOP_THRESHOLD_PCT=0.80
RISK_GUARD_SOFT_STOP_MIN_CONFIDENCE=0.75
RISK_GUARD_PORTFOLIO_HEAT_LIMIT_PCT=0.08
RISK_GUARD_ENABLE_DIRECTIONAL_EXPOSURE_LIMIT=true
RISK_GUARD_MAX_DIRECTIONAL_EXPOSURE_PCT=0.60
RISK_GUARD_ENABLE_SIDE_BALANCER=true
RISK_GUARD_MAX_SIDE_STREAK=3
RISK_GUARD_SIDE_IMBALANCE_PCT=0.20
RISK_GUARD_ENABLE_MAX_HOLD_EXIT=true
RISK_GUARD_MAX_HOLD_MINUTES=90
RISK_GUARD_ENABLE_PNL_PCT_EXIT=true
RISK_GUARD_TAKE_PROFIT_PCT=0.01
RISK_GUARD_STOP_LOSS_PCT=0.02
RISK_GUARD_ENABLE_TRAILING_STOP_EXIT=true
RISK_GUARD_TRAILING_STOP_PCT=0.35

# Trading stop worker
TRADING_STOP_RETRY_MAX_ATTEMPTS=3
TRADING_STOP_RETRY_INTERVAL_SEC=1.0
TRADING_STOP_CONFIRM_TIMEOUT_SEC=30

# Trading flow and confirmations
TRADING_MAX_SYMBOLS=12
TRADING_ENABLE_MTF_CONFIRM=true
TRADING_MTF_CONFIRM_TF=1h
TRADING_MTF_CONFIRM_MIN_BARS=120
TRADING_MTF_CONFIRM_ADX_MIN=20
TRADING_CLOSE_MISSING_CONFIRMATIONS=2
TRADING_CLOSE_DEDUP_TTL_SEC=120
TRADING_ENABLE_EXCHANGE_CLOSE_FALLBACK=false
TRADING_ENABLE_SHORT_RELAX_IF_LONG_STREAK=true

# Status/PnL aggregation
STATUS_USE_JOURNAL_DAILY_AGG=true

# Telegram Notifications (optional but recommended)
# Create bot: https://t.me/BotFather
# Get chat_id: send message to bot, then visit https://api.telegram.org/bot<TOKEN>/getUpdates
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_or_group_id_here

# Database Settings (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=trading_bot
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_POOL_SIZE=20
DB_POOL_OVERFLOW=10

# Redis Cache
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Environment
ENVIRONMENT=testnet
